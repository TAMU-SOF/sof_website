/* All custom properties live on the local .wrapper (module-safe) */
.wrapper{
  /* Theme */
  --maroon-600:#500000;
  --maroon-700:#3a0000;

  /* Columns: subjects | path | cards */
  --titlesWidth: 260px;
  --pathWidth: 60px;

  /* Path look */
  --lineWidth: 6px;
  --dotSize: 22px;

  /* Spacing */
  --titleGutter: 28px;      /* gap between titles and path */
  --cardGap: 3rem;          /* gap between path and cards */
  --topPad: 3.25rem;        /* top spacing so heading isn't clipped */
  --bottomPad: 2rem;        /* keep end from feeling cropped */

  /* Media */
  --mediaRatioW: 16;
  --mediaRatioH: 9;

  /* Section layout spacing */
  --topPad: 3.25rem;  /* default if not overridden */
  --headGap: 1.5rem;  /* default if not overridden */
  width:100%;
  padding-top: var(--topPad);
  padding-bottom: var(--bottomPad);
}

.inner{
  max-width:85rem;
  margin:0 auto;
  padding:0 1rem;
  display:grid;
  grid-template-columns: var(--titlesWidth) var(--pathWidth) 1fr; /* titles | path | cards */
  gap: var(--cardGap);
}

/* Z-order so titles never hide under cards */
.titlesCol{ position:relative; z-index:3; }
.pathCol  { position:relative; z-index:2; }
.rightCol { position:relative; z-index:1; }

/* ===== SUBJECTS (left column) ===== */
.titlesLayer{
  position: absolute;
  inset: 0;                   /* top:0 right:0 bottom:0 left:0 */
  pointer-events: none;
  padding-right: var(--titleGutter); /* space from the path */
  text-align: right;          /* right-align label text */
}

/* Each title is absolutely positioned by JSX with style={{ top: yPx }} */
.title{
  position: absolute;
  right: 0;                   /* lock all labels to same right edge */
  transform: translateY(-50%);
  display: inline-block;

  font-weight: 900;
  font-size: clamp(1.2rem, 1.1vw + 1rem, 1.7rem);
  color: var(--maroon-700);
  line-height: 1.2;
  white-space: nowrap;

  background: rgba(255,255,255,0.75);
  padding: .35rem .75rem;
  border-radius: .75rem;
  box-shadow: 0 4px 12px rgba(0,0,0,.05);
}

.titleActive{
  color: var(--maroon-600);
  transform: translateY(-50%) scale(1.04);
}

/* prevent extremely long titles from spilling (desktop only) */


/* ===== PATH (center column) ===== */
/* PATH (center column) */
.fullRail{
  position:absolute;
  top: 10rem;
  bottom: 8rem;              /* keep your shortened path */
  left:0; right:0;
  pointer-events:none;
  z-index: 1;                 /* line/fill below dots */
}

.fullLine{
  position:absolute;
  top:0; bottom:0;
  left: 50%;
  transform: translateX(-50%);              /* <- center by column midpoint */
  width: var(--lineWidth);
  background: linear-gradient(180deg, #e5e7eb, #d1d5db);
  border-radius:9999px;
}

.fullFill{
  position:absolute;
  top:0;
  left: 50%;
  transform: translateX(-50%);              /* <- same center as line */
  width: var(--lineWidth);
  background: linear-gradient(180deg, var(--maroon-600), #6a0f0f, var(--maroon-600));
  border-radius:9999px;
  will-change: height;
}

/* Milestone dots */
.milestoneLayer{
  position:absolute;
  top:0; bottom:0; left:0; right:0;
  pointer-events:none;
  z-index: 2;                                 /* <- above line/fill */
}

/* optional: small nudge if your display has half-pixel rounding */
.wrapper{ --dotNudgeX: 0px; }                 /* tweak to -0.5px / 0.5px if needed */

.milestoneDot{
  position:absolute;
  left: 50%;
  transform: translate(calc(-50% + var(--dotNudgeX)), -50%) scale(0); /* centered + hidden */
  width: var(--dotSize);
  height: var(--dotSize);
  border-radius:9999px;
  background: var(--maroon-600);
  box-shadow: 0 6px 18px rgba(80,0,0,.25);
  opacity: 0;
  transition: transform .18s ease-out, opacity .18s ease-out;
  will-change: transform, opacity;
}

.milestoneDotVisible{
  transform: translate(calc(-50% + var(--dotNudgeX)), -50%) scale(1); /* centered + visible */
  opacity: 1;
}

/* ===== CARDS (right column) ===== */
.rightCol{
  display:flex;
  flex-direction:column;
  gap: 2rem;
}
.heading{
  font-size: clamp(1.9rem, 2.2vw + 1rem, 3rem);
  font-weight: 800;
  color: var(--maroon-600);
  line-height: 1.15;          /* avoid visual clipping */
  margin: .25rem 0 1rem 0;
}
/* Full-width heading centered to the entire grid */
.sectionHeading{
  grid-column: 1 / -1;      /* span titles | path | cards */
  text-align: center;
  font-size: clamp(1.9rem, 2.2vw + 1rem, 3rem);
  font-weight: 800;
  color: var(--maroon-600);
  line-height: 1.15;
  margin: .25rem 0 var(--headGap) 0;  /* respect the headGap variable */
}

.card{
  background:#fff;
  border:1px solid #e5e7eb;
  border-radius:1rem;
  box-shadow:0 10px 28px rgba(80,0,0,.06);
  overflow:hidden;
  min-height: 260px;          /* helps prevent scrunching */
}
.mediaWrap{
  width:100%;
  aspect-ratio: var(--mediaRatioW) / var(--mediaRatioH);
  background:#f3f4f6;
  border-bottom:1px solid #f0f0f0;
}
.image{
  width:100%;
  height:100%;
  object-fit:cover;
  display:block;
}
.content{
  padding:1.1rem 1.25rem 1.35rem;
}
.content h3{
  margin:0 0 .45rem 0;
  font-weight:800;
  font-size:1.15rem;
  color:var(--maroon-700);
}
.content p{
  margin:0;
  color:#4b5563;
  line-height:1.65;
}

/* Optional spacer node is present but we keep it zero */
.afterSpacer{ height:0; }

/* ===== Responsive: tweak variables on the same local scope ===== */
@media (max-width: 960px){
  .wrapper{
    --titlesWidth: 220px;
    --pathWidth: 52px;
  }
}

@media (max-width: 760px){
  .inner{ grid-template-columns: 1fr; gap: 1.5rem; }
  .titlesCol, .pathCol{ display:none; }    /* clean mobile stack */
  .wrapper{ padding-top: 2rem; padding-bottom: 2rem; }
}
